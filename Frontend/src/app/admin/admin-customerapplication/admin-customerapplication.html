<div class="container mt-4">
  <h2 class="mb-4 fw-semibold">Banka Müşteri Başvuruları</h2>

  <div class="row mb-3">
    <div class="col-md-6">
      <label for="bankSelect" class="form-label">Banka Seçiniz</label>
      <select
        [(ngModel)]="selectedBankName"
        id="bankSelect"
        class="form-select"
      >
        <option value="" disabled selected>Banka seçiniz</option>
        <option *ngFor="let bank of banks" [value]="bank.name">
          {{ bank.name }}
        </option>
      </select>
    </div>
    <div class="col-md-6 d-flex align-items-end">
      <button
        (click)="getApplications()"
        class="btn btn-primary w-100"
      >
        Başvuruları Getir
      </button>
    </div>
  </div>

  <div *ngIf="customerApplications.length > 0" class="table-responsive mt-4">
    <table class="table table-bordered table-striped text-center">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Ad</th>
          <th>Soyad</th>
          <th>Banka</th>
          <th>Başvuru Tarihi</th>
          <th>Durum</th>    
          <th>İşlem</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of customerApplications">
          <td>{{ item.id }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.surName }}</td>
          <td>{{ item.bankName }}</td>
          

          <td>{{ item.applicationDate | date: 'short' }}</td>
            <td>
        <select [(ngModel)]="item.status" class="form-select">
  <option *ngFor="let s of statusOptions" [ngValue]="s.value">{{ s.label }}</option>
</select>

        </td>
        <td>
          <button class="btn btn-success btn-sm me-1" (click)="updateStatus(item.id, item.status)">Güncelle</button>
         <button class="btn btn-danger btn-sm" (click)="deleteApplication(item.id)">Sil</button>

        
</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="customerApplications.length === 0" class="alert alert-secondary mt-4" role="alert">
    Henüz görüntülenecek başvuru yok.
  </div>
</div>
